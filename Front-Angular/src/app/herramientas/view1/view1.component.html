<div
  cdkDropList
  (cdkDropListDropped)="drop($event)"
>
  <!-- Loop through users -->
  <div *ngFor="let user of users" cdkDrag>
    <!-- Main card -->
    <mat-card
      style="border: 2px solid #555; width: 100%;"
      class="draggable-card"
    >
      <mat-card-header>
        <mat-card-title>{{ user.name }}</mat-card-title>
        <mat-card-subtitle>{{ user.email }}</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <p>{{ user.description }}</p>
      </mat-card-content>

      <mat-card-actions>
        <button mat-stroked-button color="primary">View</button>
        <button mat-stroked-button color="accent">Edit</button>
      </mat-card-actions>

      <mat-card-footer style="text-align: right; padding-right: 16px;">
        <small>{{ user.lastUpdated }}</small>
      </mat-card-footer>
    </mat-card>

    <!-- Custom Drag Preview -->
    <ng-template cdkDragPreview>
      <mat-card
        class="draggable-card drag-preview"
        style="border: 2px dashed #999; width: 300px; opacity: 0.9;"
      >
        <!-- You can keep the preview narrower if you prefer -->
        <mat-card-header>
          <mat-card-title>{{ user.name }}</mat-card-title>
          <mat-card-subtitle>{{ user.email }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p>{{ user.description }}</p>
        </mat-card-content>
      </mat-card>
    </ng-template>

    <!-- Custom Drag Placeholder -->
    <ng-template cdkDragPlaceholder>
      <mat-card
        class="draggable-card placeholder"
        style="border: 2px dashed #ccc; width: 300px; background: #f5f5f5;"
      >
        <mat-card-header>
          <mat-card-title>&nbsp;</mat-card-title>
          <mat-card-subtitle>&nbsp;</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p>&nbsp;</p>
        </mat-card-content>
      </mat-card>
    </ng-template>
  </div>
</div>
